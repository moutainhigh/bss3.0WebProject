<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.asia.mapper.orclmapper.Info3mExeFeeMapper">
  <resultMap id="BaseResultMap" type="com.asia.vo.Info3mExeFee">
    <result column="SERV_ID" jdbcType="DECIMAL" property="servId" />
    <result column="ACC_NBR" jdbcType="VARCHAR" property="accNbr" />
    <result column="CUR_CHARGE" jdbcType="DECIMAL" property="curCharge" />
    <result column="THREE_MON_AVG_CHARGE" jdbcType="DECIMAL" property="threeMonAvgCharge" />
    <result column="ALARM_DATE" jdbcType="DATE" property="alarmDate" />
  </resultMap>

  <sql id="Base_Column_List">
    SERV_ID , ACC_NBR , CUR_CHARGE , THREE_MON_AVG_CHARGE , ALARM_DATE
  </sql>
  <select id="selectInfo3MExeFee" parameterType="java.util.HashMap" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from INFO_3M_EXE_FEE
    where
    ACC_NBR = #{accNbr}
    and to_char(ALARM_DATE,'yyyymm') = #{alarmDate}
  </select>
  <select id="selectInfo3MExeFeeTest" parameterType="java.util.Map" resultType="java.util.Map">
    select
    SERV_ID servId, ACC_NBR accNbr, CUR_CHARGE curCharge, THREE_MON_AVG_CHARGE threeMonAvgCharge, ALARM_DATE alarmDate
    from INFO_3M_EXE_FEE
    where
    ACC_NBR = #{accNbr}
    and to_char(ALARM_DATE,'yyyymm') = #{alarmDate}
  </select>
  <select id="selectInfoHighFeeByBeginDate" parameterType="java.util.HashMap" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from INFO_3M_EXE_FEE
    where
    ACC_NBR = #{accNbr}
    and ALARM_DATE &gt; to_date(#{beginDate},'YYYYMMDDHH24MISS')
    and ALARM_DATE &lt; to_date(#{endDate},'YYYYMMDDHH24MISS')
  </select>
</mapper>